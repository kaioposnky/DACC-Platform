<?xml version="1.0" encoding="utf-8"?>
<queries>
	<!-- Consulta para inserir um usuário -->
	<query name="InsertUsuario">
		INSERT INTO usuario (nome, sobrenome, ra, curso, email, telefone, senha_hash, cargo)
		VALUES (@Nome, @Sobrenome, @Ra, @Curso, @Email, @Telefone, @Senha, @Cargo)
		RETURNING id;
	</query>
	
	<!-- Consulta para obter todos os usuários -->
	<query name="GetAllUsuarios">
		SELECT
		id as Id,
		nome as Nome,
		sobrenome as Sobrenome,
		ra as Ra,
		curso as Curso,
		email as Email,
		telefone as Telefone,
		imagem_url as ImagemUrl,
		ativo as Ativo,
		newsletterSubscriber as NewsLetterSubscriber,
		cargo as Cargo,
		data_criacao as DataCriacao,
		data_atualizacao as DataAtualizacao
		FROM usuario;
	</query>

	<!-- Consulta para obter um usuário por ID -->
	<query name="GetUsuarioById">
		SELECT
		id as Id,
		nome as Nome,
		sobrenome as Sobrenome,
		ra as Ra,
		curso as Curso,
		email as Email,
		telefone as Telefone,
		imagem_url as ImagemUrl,
		ativo as Ativo,
		newsletterSubscriber as NewsLetterSubscriber,
		cargo as Cargo,
		data_criacao as DataCriacao,
		data_atualizacao as DataAtualizacao
		FROM usuario
		WHERE id = @Id;
	</query>
	
	<!-- Consulta para obter um usuário por Email -->
	<query name="GetUsuarioByEmail">
		SELECT
		id as Id,
		nome as Nome,
		sobrenome as Sobrenome,
		ra as Ra,
		curso as Curso,
		email as Email,
		telefone as Telefone,
		senha_hash as SenhaHash,
		imagem_url as ImagemUrl,
		ativo as Ativo,
		newsletterSubscriber as NewsLetterSubscriber,
		cargo as Cargo,
		data_criacao as DataCriacao,
		data_atualizacao as DataAtualizacao
		FROM usuario
		WHERE email = @Email;
	</query>

	<!-- Consulta para atualizar um usuário -->
	<query name="UpdateUsuario">
		UPDATE usuario
		SET 
			nome = @Nome, 
			sobrenome = @Sobrenome,
			ra = @Ra,
			curso = @Curso,
			email = @Email, 
			telefone = @Telefone,
			senha_hash = @SenhaHash,
			imagem_url = @ImagemUrl,
			ativo = @Ativo,
			newsletterSubscriber = @NewsLetterSubscriber,
			cargo = @Cargo,
			data_atualizacao = CURRENT_TIMESTAMP
		WHERE id = @Id;
	</query>

	<!-- Consulta para deletar um usuário -->
	<query name="DeleteUsuario">
		DELETE FROM usuario
		WHERE id = @Id;
	</query>
	
	<query name="GetUserTokens">
		SELECT
			access_token as AccessToken,
			refresh_token as RefreshToken
		FROM usuario_tokens
		WHERE usuario_id = @Id;
	</query>
	
	<query name="UpdateUserTokens">
		UPDATE usuario_tokens
		SET
			access_token = @AccessToken,
			refresh_token = @RefreshToken
		WHERE usuario_id = @Id;
	</query>
	
	<query name="CreateUserToken">
		INSERT INTO usuario_tokens(usuario_id, access_token, refresh_token)
		VALUES (@UserId, '', '');
	</query>
</queries>